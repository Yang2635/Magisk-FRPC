# Magisk-FRPC

让你的手机等终端设备运行FRPC程序。程序依赖Magisk，请自行安装Magisk模块后使用。

## v3.1.0

- 更新：FRPC程序为**v0.46.1**，点击查看[FRPC更新日志](https://github.com/fatedier/frp/releases/tag/v0.46.1)
- 增加：网络接口检测判断
- 优化：相关函数
- 移除：CPU状态检测（不同Android版本或不同机型toybox执行所需命令功能参数不一，易造成误判）
- 增加：模块安装环境判断，防止用户前往 Recovery 中安装（无奈）

## v3.0.1

- 优化：减少代码并优化相关逻辑
- 优化：相关函数执行
- 优化：复杂环境下的crond命令应用

## v3.0.0

- 更新：FRPC程序为**v0.43.0**，点击查看[FRPC更新日志](https://github.com/fatedier/frp/releases/tag/v0.43.0)
- 优化：相关运行逻辑，更好的运行状态判断
- 优化：frpc配置文件未开启admin_port导致的相关数据获取错误
- 修复：设备高负载卡死时偶发sed命令执行异常导致的module.prop文件数据丢失
- 调整：全部使用定时任务对其检测状态，弃用while命令守护方式
- 调整：屏幕亮屏检测方式修改，**模块目录创建名为 screen 的文件即息屏检测，反之不检测**
- 修改：对定时任务时间调整，从24小时每分钟检测调整为7-23点时间段每分钟检测，可前往模块目录下crond/root中修改自定义调整时间检测范围（慎重，不会的请学下Linux定时任务）
- 增加：functions.sh文件
- 减少：工作方式的相关参数

**代码大量调整，若有相关问题可提issues或博客文章[Magisk-FRPC食用](https://www.isisy.com/1276.html)留言评论**

## v2.9.1

- 修复：含有busybox指令环境致使的系统命令调用错误
- 修复：文件在Magisk更新链接下载安装时提示“缺失校验文件”

## V2.9

- 更新：FRPC程序为**v0.40.0**，点击查看[FRPC更新日志](https://github.com/fatedier/frp/releases/tag/v0.40.0)
- 增加：FRPC程序运行时的CPU使用率
- 增加：FRPC物理内存使用情况
- 优化：部分逻辑的处理

## v2.8

**Happy Chinese New Year!**

- 更新：FRPC程序为v0.39.0，点击查看[FRPC更新日志](https://github.com/fatedier/frp/releases/tag/v0.39.0)
- 为Magisk 24.0+增加在线更新

## v2.7

- 修正：可能出现的错误
- 模块安装时自定义息屏状态的检测

## v2.6

- 增加：电池电量检测，电量低于20%自动结束穿透
- 增加：屏幕状态检测、可结合`status.conf`文件中`SCREEN_STATUS`参数决定是否息屏检测
- 增加：穿透服务数检测
- 优化：逻辑检测

## v2.5

- 减少状态文件生成
- 增加模块sha256校验
- 将安装模块时的状态、功能信息存至对应目录下的文件中
- 更新FRPC程序为v0.38.0

---

**注：因学业，下方的版本更新仅在本地进行测试自用，其源码未上传至Github，2.5版本后才将其上传**

## v2.2

- 优化FRPC重载逻辑
- 进一步减少文件运行权限
- 增加安装模块时状态、功能信息输出

## v2.1

- 使用自带Busybox模块
- 增加更多不同的指令集架构FRPC及Busybox程序
- 更新FRPC终端程序为v0.37.1
- 使状态呈现于Magisk模块页面
- 优化文件判断逻辑，提高文件处理效率，减少资源

## v2.0

- 基于1.0版本加入自动检测功能。
- 增加定时任务守护运行程序，资源占用更少
- 增加使用说明及模板文件
- 更改frpc.ini文件目录
- 加入自动重载配置文件功能

## v1.0

- 基于Magisk模块制作
- 基于FRPC运行命令制作
- 开机启动运行FRPC程序